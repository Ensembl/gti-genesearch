apply plugin: 'application'
apply plugin: 'java'
apply plugin: 'maven'

sourceCompatibility = 1.8
targetCompatibility = 1.8

group = 'org.ensembl.gti'
version = '0.2'

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile group: 'org.elasticsearch', name: 'elasticsearch', version: '6.6.1'
    compile group: 'org.elasticsearch.client', name: 'transport', version: '6.6.1'
    compile group: 'org.codelibs.elasticsearch.module', name: 'analysis-common', version: '6.6.1'
    compile 'org.apache.commons:commons-lang3:3.4'
    compile 'com.fasterxml.jackson.core:jackson-core:2.7.2'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.7.2'
    compile 'commons-io:commons-io:2.4'
    compile 'com.google.guava:guava:16+'
    compile 'org.apache.commons:commons-collections4:4.1'
    compile 'org.springframework:spring-web:4.3.2.RELEASE'
    compile 'org.mongodb:mongodb-driver:3.2.2'
    compile 'com.github.fakemongo:fongo:2.0.6'
    compile 'org.apache.solr:solr-solrj:6.3.0'
    compile 'org.springframework:spring-web:1.3.3.RELEASE'
    compile group: 'com.github.samtools', name: 'htsjdk', version: '2.13.2'
    compile 'com.beust:jcommander:1.48'
    compile 'org.slf4j:slf4j-log4j12:1.7.12'

    testCompile 'junit:junit:4.12'
    testCompile "com.github.tomakehurst:wiremock-standalone:2.9.0"
    testCompile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.11.2'
    testCompile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.11.2'
    compile "org.testcontainers:elasticsearch:1.11.1"
}
        
test {
    testLogging {
        events = ["passed", "failed", "skipped"]
        showStandardStreams = true
        exceptionFormat = "full"
    }
    useJUnit {
    }
    systemProperty "tests.security.manager", System.getProperty("tests.security.manager")
}
 
mainClassName = 'org.ensembl.genesearch.clients.IdLookupClient'

task wrapper(type: Wrapper) {
    gradleVersion = '2.12'
}